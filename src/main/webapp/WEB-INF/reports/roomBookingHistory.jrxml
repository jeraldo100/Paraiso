<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="roomBookingHistory" language="groovy" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="872f1c02-e9f2-4fdd-b9be-8ffa6cb309f2">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<queryString>
		<![CDATA[
SELECT
    u.username,
    r.room_id,
    br.checkin_date,
    br.checkout_date,
    br.price AS total_price,
    b.status
FROM
    bookings b
JOIN
    users u ON b.user_id = u.user_id
JOIN
    booked_rooms br ON b.booking_id = br.booking_id
JOIN
    rooms r ON br.room_id = r.room_id
JOIN
    room_types rt ON r.type_id = rt.type_id

]]>
	</queryString>
	<field name="username" class="java.lang.String"/>
	<field name="room_id" class="java.math.BigDecimal"/>
	<field name="checkin_date" class="java.sql.Timestamp"/>
	<field name="checkout_date" class="java.sql.Timestamp"/>
	<field name="total_price" class="java.math.BigDecimal"/>
	<field name="status" class="java.lang.String"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="79" splitType="Stretch"/>
	</title>
	<pageHeader>
		<band height="35" splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="61" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="0" width="92" height="20" uuid="70bef9f9-8c2e-4d1d-b455-981679ac7d88"/>
				<text><![CDATA[username]]></text>
			</staticText>
			<staticText>
				<reportElement x="92" y="0" width="92" height="20" uuid="3ea61cbd-7a01-4bfa-9bdc-80c8007032f9"/>
				<text><![CDATA[room_id]]></text>
			</staticText>
			<staticText>
				<reportElement x="184" y="0" width="92" height="20" uuid="a5d002ba-c7dc-4b6a-b6ce-50d68b9d2fa9"/>
				<text><![CDATA[checkin_date]]></text>
			</staticText>
			<staticText>
				<reportElement x="276" y="0" width="92" height="20" uuid="8e1218f3-0f91-4fc1-92cc-257760e93812"/>
				<text><![CDATA[checkout_date]]></text>
			</staticText>
			<staticText>
				<reportElement x="368" y="0" width="92" height="20" uuid="efc198c7-9e86-49d4-a890-84f0a0456fe7"/>
				<text><![CDATA[total_price]]></text>
			</staticText>
			<staticText>
				<reportElement x="460" y="0" width="92" height="20" uuid="65c1a2fb-c5ce-48d2-97f0-2f9431215546"/>
				<text><![CDATA[status]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="41" splitType="Stretch">
			<textField>
				<reportElement x="0" y="0" width="92" height="20" uuid="eddf4eb2-6698-4d91-8a2b-f5f3a96eac2c"/>
				<textFieldExpression><![CDATA[$F{username}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="92" y="0" width="92" height="20" uuid="f8c2a252-1877-4202-a688-38458f7ac06f"/>
				<textFieldExpression><![CDATA[$F{room_id}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="184" y="0" width="92" height="20" uuid="4fa6b3e6-290a-4be2-bb69-564c15570214"/>
				<textFieldExpression><![CDATA[$F{checkin_date}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="276" y="0" width="92" height="20" uuid="60c0a1b4-9270-4a95-9d9f-ba130f304b7c"/>
				<textFieldExpression><![CDATA[$F{checkout_date}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="368" y="0" width="92" height="20" uuid="9354b75c-0dcd-4b6f-9785-7dbf964b067d"/>
				<textFieldExpression><![CDATA[$F{total_price}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="460" y="0" width="92" height="20" uuid="1b78861b-706c-4575-85c1-df286ab5f1d2"/>
				<textFieldExpression><![CDATA[$F{status}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="45" splitType="Stretch"/>
	</columnFooter>
	<pageFooter>
		<band height="54" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="42" splitType="Stretch"/>
	</summary>
</jasperReport>
